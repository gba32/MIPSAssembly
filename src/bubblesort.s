.data
array: .word 40439, 45861, 24916, 38554, 31342, 31531, 9629, 56355, 15918, 19926, 8765, 13954, 3390, 33759, 1115, 13341, 64002, 40158, 9148, 38494, 21712, 34948, 61487, 57477, 40186, 55091, 42699, 61686, 48141, 26739, 556, 31347, 37046, 29402, 8588, 33454, 35470, 25122, 48597, 7364, 15175, 49282, 8404, 50392, 61147, 36964, 27428, 8268, 37141, 21154, 34408, 43682, 14302, 36844, 10829, 40672, 39176, 7290, 39090, 11301, 2108, 56441, 27133, 52697, 24952, 61421, 49607, 623, 41671, 32557, 29056, 22760, 63130, 54402, 58731, 36836, 30262, 26646, 39160, 55940, 46897, 16398, 14553, 46943, 59152, 3747, 38057, 44114, 50001, 24594, 20068, 47305, 43322, 31376, 5009, 42162, 6618, 17772, 49248, 19001, 16238, 65242, 26496, 51380, 16033, 36497, 15070, 4262, 27831, 64616, 37792, 22322, 37999, 42484, 13859, 10573, 46300, 39054, 48649, 46476, 33472, 58044, 5058, 64088, 11811, 11382, 25706, 63035, 63954, 51462, 2411, 60327, 22819, 5962, 1288, 27136, 59856, 40717, 17071, 30011, 562, 20753, 59645, 37085, 40611, 35132, 12750, 62541, 38275, 15572, 3157, 25057, 44118, 44227, 52959, 9095, 57608, 61515, 36316, 40092, 15676, 27952, 12319, 23063, 49991, 63164, 5577, 64405, 33275, 13405, 52263, 27885, 52491, 58808, 34666, 51433, 1094, 19284, 4869, 28788, 21215, 47665, 43455, 42311, 19196, 11291, 49124, 28981, 27439, 47341, 18959, 63357, 17529, 63357, 38066, 57600, 14146, 46662, 23316, 28283, 54608, 21431, 1184, 13772, 61539, 46849, 47640, 18928, 33521, 53375, 45986, 44017, 38691, 61014, 26255, 55379, 14610, 32353, 12475, 51465, 32145, 40140, 19921, 65162, 14541, 38631, 10411, 22281, 50607, 19856, 22657, 42288, 36330, 30620, 27303, 23801, 36511, 6626, 64493, 22392, 31525, 52600, 23334, 4768, 46419, 64383, 62649, 43165, 27353, 36484, 62069, 4735, 1129, 49584, 4960, 22620, 11969, 8891, 31079, 22436, 32990, 33474, 36552, 59477, 16245, 49697, 2062, 59877, 17633, 33820, 25872, 64395, 26667, 36184, 53157, 62219, 23724, 4538, 52070, 14847, 31620, 56593, 26588, 54401, 19829, 22687, 38741, 57359, 39495, 16341, 51905, 61872, 35715, 23835, 11213, 19201, 287, 34042, 19377, 44295, 50519, 44132, 54623, 7194, 30640, 29559, 16522, 61018, 46724, 32440, 3937, 11948, 17592, 54456, 46500, 62860, 58530, 8267, 12412, 34836, 28236, 53262, 34156, 25068, 10919, 55266, 20232, 49655, 29504, 54264, 32193, 37936, 56610, 36426, 49070, 23739, 32986, 26698, 9913, 61175, 63578, 60172, 5196, 38993, 5290, 29063, 46196, 50662, 55100, 62793, 6012, 2228, 43081, 24233, 11715, 3428, 22448, 5070, 23330, 26692, 10991, 47205, 53904, 37361, 31336, 29713, 15311, 5536, 33726, 14873, 37426, 39006, 55587, 54588, 62477, 7196, 27635, 6441, 43461, 49430, 64374, 39401, 22883, 20677, 37277, 15282, 49322, 37068, 7971, 17862, 26469, 47311, 5536, 10705, 15756, 30166, 34785, 32771, 28110, 51528, 56264, 1438, 63922, 62911, 47422, 42963, 14883, 45890, 27676, 3975, 36242, 3358, 2406, 10904, 33006, 12529, 58315, 56206, 39022, 44582, 63531, 36285, 39016, 27814, 60475, 61406, 16540, 21382, 8131, 32643, 1649, 44702, 16247, 3248, 16273, 23839, 54125, 1389, 23724, 61143, 4179, 27763, 27767, 43383, 15709, 17352, 64905, 41549, 55458, 1433, 43414, 22080, 27111, 17865, 60340, 20220, 55088, 62753, 4274, 21858, 46670, 43034, 44637, 10764, 40218, 2665, 43004, 59245, 29717, 5769, 22669, 4157, 43009, 64570, 47029, 38655, 51065, 18260, 5240, 46582, 47653, 24067, 51584, 19388, 56324, 1079, 48795, 30142, 60962, 35585, 53691, 38813, 30868, 20126, 52415, 22832, 32088, 27982, 39054, 44205, 17358, 44693, 51842, 54710, 39450, 58811, 5417, 6217, 53405, 345, 34166, 32401, 46620, 57542, 34338, 13359, 1973, 62502, 45865, 62363, 7814, 40881, 2928, 37506, 22016, 15262, 48975, 49014, 13608, 42041, 12681, 12944, 47889, 59535, 47686, 64473, 48602, 25457, 59833, 62942, 7443, 48463, 31556, 5292, 2645, 57159, 47786, 52699, 23448, 19380, 30168, 44202, 46742, 63906, 177, 60723, 44295, 58184, 61879, 47769, 58428, 9681, 27920, 33111, 29899, 46150, 23815, 47802, 44196, 50793, 49129, 56148, 28184, 60937, 56788, 32111, 28917, 3864, 4282, 35834, 24378, 59441, 12835, 50085, 16827, 18693, 49119, 26973, 63301, 29511, 16479, 8355, 14209, 17802, 61605, 14464, 55728, 43205, 23641, 39640, 41955, 36261, 11924, 9852, 29526, 16029, 39712, 37591, 26651, 18004, 11722, 34233, 34889, 11816, 14621, 23238, 9191, 65402, 3056, 37325, 3915, 3017, 10728, 8591, 8132, 7799, 15272, 38837, 26354, 5808, 45382, 45398, 47516, 10054, 10636, 44656, 56986, 3620, 21686, 35387, 41059, 15679, 51936, 37296, 21643, 62122, 37794, 46537, 9369, 8406, 39244, 37069, 22195, 8987, 59172, 56493, 29278, 64895, 4716, 26750, 46601, 59137, 48717, 49312, 63462, 47640, 51588, 55583, 54090, 10400, 26488, 36290, 23538, 32936, 18928, 6618, 13120, 47313, 10160, 17332, 62112, 18883, 18892, 24072, 40664, 50302, 59004, 25994, 14371, 61393, 21203, 27024, 49517, 51853, 54602, 45288, 21593, 27269, 5184, 15622, 49342, 17553, 35338, 45193, 62411, 41718, 51567, 30713, 22858, 65365, 48932, 6503, 10474, 62060, 22631, 10563, 22446, 1832, 55546, 62870, 35769, 34312, 4487, 29637, 4021, 29878, 23605, 2507, 53124, 15812, 33817, 27481, 29385, 36639, 14709, 52516, 57988, 6875, 30777, 39776, 50049, 52811, 53629, 14844, 6522, 27808, 8131, 52814, 64524, 16442, 40236, 11179, 4544, 57449, 25077, 41603, 64303, 12704, 1145, 18776, 17393, 15859, 4053, 15901, 40258, 33104, 43501, 63304, 34680, 47105, 54558, 47753, 21502, 44639, 55815, 43919, 51966, 25769, 8189, 39962, 8630, 5488, 57246, 56566, 29920, 21719, 60537, 47110, 11829, 47640, 54394, 45528, 10617, 1572, 19876, 7684, 1970, 38323, 30170, 49026, 51486, 42319, 50214, 29168, 58264, 28239, 41684, 37650, 13201, 43148, 34555, 59682, 1183, 47857, 18766, 58282, 48624, 13236, 9555, 36890, 45002, 10460, 19942, 59509, 9804, 40706, 59097, 13670, 15883, 45820, 55713, 31082, 39870, 51717, 45100, 45571, 49322, 18244, 25087, 60614, 63789, 64293, 30177, 32939, 36385, 10285, 41014, 26224, 5520, 32912, 62192, 42345, 41157, 46037, 30065, 48065, 46684, 62601, 45867, 13099, 50777, 28761, 1495, 57704, 38866, 10538, 11716, 61541, 23933, 9260, 58686, 9913, 38548, 44024, 12487, 4406, 61655, 42565, 49218, 179, 58286, 53888, 4481, 37025, 10431, 50878, 63537, 42768, 53350, 36843, 31458, 30497, 41595, 49405, 32324, 36293, 18265, 13840, 6681, 10274, 62442, 14672, 26284, 63385, 27410, 45841, 55094, 30770, 48741, 44625, 31225, 9899, 28103, 24946, 44, 38524, 35448, 40087, 42405, 12689, 49979, 20256, 37546, 63821, 21640, 7692, 28084, 62938, 64572, 13167, 16767, 48369, 55979, 22720, 40896, 13388, 41757, 36738, 31769, 52169, 26736, 64857, 23230, 45449, 23077, 18045, 166, 12667, 37635, 27248, 33330, 10887, 62238, 36014, 8409, 60479, 10353, 6880, 47407, 48956, 21193, 9938, 25528, 6683, 30226, 25676, 64927, 8836, 44141, 30644, 61810, 34329, 53855, 7559, 14984, 22242, 48789, 8376, 45030, 27025, 61588, 43569, 11039, 15643, 16774, 27264, 19409, 2303, 55337, 6218, 30865, 42552, 60684, 45271, 8474, 41399, 36480, 2154, 15877, 56719
length: .word 1000

.text 

la $a0, array
lw $a1, length
jal sort_array
jal print_array
li $v0, 10 # exit
syscall

# sorts an array in place using the bubble sort algorithm
# memory address of array should be in $a0
# length of array should be in $a1
sort_array: 
    # clear registers to use
    li $t0, 1 # swap flag

    main_loop: 
        beq $t0, $zero, return # return if no swaps made
        addu $t1, $zero, $a0 # current address
        li $t0, 0 # reset flag
        li $t2, 0 # counter

    inner_loop:
        lw $t3, 0($t1) # load i and i + 1
        lw $t4, 4($t1) 
        blt $t4, $t3, swap # swap if incorrect order

    increment:
        addiu $t2, $t2, 1
        addiu $t5, $a1, -1 
        addiu $t1, $t1, 4 # increment address
        blt $t2, $a1, inner_loop
        j main_loop

swap:
    addu $t5, $zero, $t3
    addu $t3, $zero, $t4
    addu $t4, $zero, $t5
    addiu $t0, $zero, 1
    sw $t3, 0($t1)
    sw $t4, 4($t1)
    j increment


return: 
    jr $ra # return


# pretty prints an array of words
# memory address of array should be in $a0
# length of array should be in $a1
print_array:   
    addu $t0, $zero, $a0 # start of array
    addiu $t1, $a1, -1 # max iter
    addu $t2, $zero, $zero # counter
    addu $t3, $zero, $ra # store return address
    li $a0, 91 # '[' as argument
    li $v0, 11 # print_char($a0)   
    
    syscall

    print_loop:
        bgt $t2, $t1, end_print

        lw $a0, 0($t0) # load integer at current address
        li $v0, 1 # print_int($a0)
        syscall

        beq $t1, $t2, increment2
        jal print_comma

    increment2:
        addiu $t0, $t0, 4 # increment address
        addiu $t2, $t2, 1 # increment counter
        j print_loop

end_print:
    li $a0, 93 # ']' as argument
    li $v0, 11 # print_char($a0)   
    syscall

    addu $ra, $zero, $t3
    j return



# prints a comma and space to the console
print_comma:
    li $a0, 44 # comma as argument to syscall
    li $v0, 11 # print_char($a0)
    syscall

    li $a0, 32 # space as argument
    syscall
    jr $ra




